generator client {
  provider = "prisma-client"
  output   = "../.prisma/client"
}

datasource db {
  provider = "postgresql"
}

model Employee {
  id          Int      @id @default(autoincrement())
  name        String
  department  String?
  phone       String?
  tokenNumber String   @unique
  status      String   @default("NOT_WON") // WON, NOT_WON
  prizeId     Int?
  prize       Prize?   @relation(fields: [prizeId], references: [id])
  wonAt       DateTime?
  createdAt   DateTime @default(now())
}

model Prize {
  id        Int        @id @default(autoincrement())
  name      String
  quantity  Int
  image     String?
  employees Employee[]
}

model Admin {
  id       Int    @id @default(autoincrement())
  username String @unique
  password String
}

model SpinLog {
  id        Int      @id @default(autoincrement())
  employeeId Int
  prizeId   Int?
  timestamp DateTime @default(now())
}
